(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{72:function(e,t,n){"use strict";n.r(t);var r,c=n(1),a=n(57),i=n.n(a),u=n(17),o=n(14),s=n(26),b=n(88),j=n(61),O=n(94),p=n(89),f=n(87);!function(e){e.RIGHT="RIGHT",e.LEFT="LEFT",e.UP="UP",e.DOWN="DOWN"}(r||(r={}));var l,d=(l={},Object(s.a)(l,r.RIGHT,(function(e){return{x:e.x+1,y:e.y}})),Object(s.a)(l,r.LEFT,(function(e){return{x:e.x-1,y:e.y}})),Object(s.a)(l,r.UP,(function(e){return{x:e.x,y:e.y-1}})),Object(s.a)(l,r.DOWN,(function(e){return{x:e.x,y:e.y+1}})),l),x=function(e){var t=e.direction,n=e.pos;return d[t](n)},h=[r.UP,r.DOWN],v=[r.LEFT,r.RIGHT],m=b.a(j.a(0),O.a,p.a(v)),y=b.a(j.a(0),O.a,p.a(h)),g=function(e,t){var n=Math.ceil(e),r=Math.floor(t);return Math.floor(Math.random()*(r-n+1))+n},k=function(){return{x:g(0,14),y:g(0,14)}},w=function(e,t){return e.x===t.x&&e.y===t.y},T=n(75);function A(e){for(var t=k();T.a(t,e);)t=k();return t}var S,W=function(e){for(var t=[],n=e-1;n>=0;n--)t.push({x:n,y:0});return t}(3),H=function(e,t){for(var n=[],r=Object(o.a)(t),c=0;c<e;c++){var a=A(r);n.push(a),r.push(a)}return n}(2,W),G={snake:W,setSnake:Object(u.b)((function(e,t){e.snake=t})),apples:H,setApples:Object(u.b)((function(e,t){e.apples=t}))};!function(e){e.RIGHT="RIGHT",e.LEFT="LEFT",e.UP="UP",e.DOWN="DOWN"}(S||(S={}));var I,L,R={game:G},D=Object(u.c)(R),E=n(36),F=Object(u.d)(),U=F.useStoreActions,N=F.useStoreState,P=(F.useStoreDispatch,n(41)),M=n(47),B=M.a.div(I||(I=Object(P.a)(["\n  width: 10px;\n  height: 10px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  margin: 1px;\n  background-color: ",";\n"])),(function(e){return e.isHead?"green":e.isActive?"red":e.isApple?"blue":"transparent"})),C=n(9),J=Object(o.a)(Array(15)),$=function(e){var t=e.indexColumn,n=N((function(e){return e.game.snake})),r=N((function(e){return e.game.apples}));return n?Object(C.jsx)("div",{children:J.map((function(e,c){return Object(C.jsx)(B,{isActive:T.a({x:t,y:c},n),isApple:T.a({x:t,y:c},r),isHead:n[0].x===t&&n[0].y===c},c)}))}):null},q=Object(o.a)(Array(15)),z=function(){return Object(C.jsx)(K,{tileWidth:10,children:q.map((function(e,t){return Object(C.jsx)($,{indexColumn:t},t)}))})},K=M.a.div(L||(L=Object(P.a)(["\n  display: flex;\n  max-width: ","px;\n  max-height: ","px;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n"])),(function(e){return 15*(e.tileWidth+2+2)}),(function(e){return 15*(e.tileWidth+2+2)})),Q=n(59),V=n(56),X=n(76),Y=n(78),Z=n(91),_=n(93),ee=n(85),te=n(92),ne=n(77),re=n(95),ce=n(79),ae=n(30),ie=n(60),ue=n(90),oe=n(80),se=n(81),be=n(82),je=n(83),Oe=n(84),pe=n(86),fe=Object(X.a)(document,"keydown").pipe(Object(ne.a)("code")),le={ArrowUp:S.UP,ArrowDown:S.DOWN,ArrowLeft:S.LEFT,ArrowRight:S.RIGHT},de=new Y.a(3),xe=function(e,t){return n=e,r=t,f.a(m,y)([n,r])?e:t;var n,r},he=de.pipe(Object(re.a)((function(e,t){return t+e})),Object(ce.a)()),ve=fe.pipe(Object(ae.a)((function(e){return le[e]})),Object(ie.a)((function(e){return!!e})),Object(ue.a)(S.RIGHT),Object(oe.a)()),me=new Y.a(200).pipe(Object(se.a)((function(e){return Object(Z.a)(e).pipe(Object(be.a)(ve,(function(e,t){return{direction:t}})),Object(re.a)((function(e,t){var n=t.direction;return xe(e,n)}),S.RIGHT))}))).pipe(Object(be.a)(he,(function(e,t){return{move:e,snakeLength:t}})),Object(re.a)((function(e,t){var n=t.move,r=t.snakeLength,c=Object(V.a)(e),a=c[0],i=c.slice(1),u=a;return[x({direction:n,pos:a})].concat(Object(o.a)(i.map((function(e){var t=Object(Q.a)({},u);return u=e,t}))),Object(o.a)(r>e.length?[e[e.length-1]]:[]))}),W),Object(ce.a)()),ye=me.pipe(Object(re.a)((function(e,t){var n=Object(E.a)(t,1)[0],r=e.find((function(e){return w(e,n)}));if(r){var c=p.a([r],e);return[].concat(Object(o.a)(c),[A([].concat(Object(o.a)(c),Object(o.a)(t)))])}return e}),H),Object(oe.a)(),Object(ce.a)());ye.pipe(Object(je.a)(1),Object(Oe.a)((function(){return de.next(ge)}))).subscribe();var ge=1,ke=he.pipe(Object(ue.a)(0),Object(re.a)((function(e,t){return e+ge}))),we=Object(_.a)([me,ye,ke]).pipe(Object(ae.a)((function(e){var t=Object(E.a)(e,3);return{snake:t[0],apples:t[1],score:t[2]}}))),Te=Object(ee.a)("Start Game").pipe(Object(ae.a)((function(){return Object(Z.a)(1e3/60,te.a)})),Object(se.a)((function(e){return e.pipe(Object(be.a)(we,(function(e,t){return t})))})),Object(pe.a)((function(e){return!Ae(e)}))),Ae=function(e){var t=e.snake,n=Object(V.a)(t),r=n[0],c=n.slice(1);return function(e){var t=e.x,n=e.y;return t>=15||t<0||n>=15||n<0}(r)||c.some((function(e){return w(e,r)}))},Se=function(){var e=U((function(e){return{setSnake:e.game.setSnake,setApples:e.game.setApples}})),t=e.setSnake,n=e.setApples,r=Object(c.useState)(0),a=Object(E.a)(r,2),i=a[0],u=a[1];return Object(c.useEffect)((function(){var e=Te.subscribe((function(e){t(e.snake),n(e.apples),u(e.score)}));return function(){return e.unsubscribe()}}),[t,n,u]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:"Snake"}),"Score: ",i,Object(C.jsx)(z,{})]})},We=function(){return Object(C.jsx)(u.a,{store:D,children:Object(C.jsx)(Se,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(C.jsx)(We,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[72,1,2]]]);
//# sourceMappingURL=main.90a4e367.chunk.js.map