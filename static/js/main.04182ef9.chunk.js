(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{80:function(n,e,t){"use strict";t.r(e);var r,c=t(2),a=t(66),i=t.n(a),o=t(18),u=t(40),j=t(43),s=t(46),b=t(91),O=t(97),f=t(98),p=t(33),l=t(87),d=t(88),x=t(92),h=t(29),v=t(94),m=t(69),y=t(100),g=t(95),w=t(93),k=t(81);!function(n){n.RIGHT="RIGHT",n.LEFT="LEFT",n.UP="UP",n.DOWN="DOWN"}(r||(r={}));var A,T=(A={},Object(h.a)(A,r.RIGHT,(function(n){return{x:n.x+1,y:n.y}})),Object(h.a)(A,r.LEFT,(function(n){return{x:n.x-1,y:n.y}})),Object(h.a)(A,r.UP,(function(n){return{x:n.x,y:n.y-1}})),Object(h.a)(A,r.DOWN,(function(n){return{x:n.x,y:n.y+1}})),A),D=function(n){var e=n.direction,t=n.pos;return T[e](t)},H=[r.UP,r.DOWN],L=[r.LEFT,r.RIGHT],E=v.a(m.a(0),y.a,g.a(L)),W=v.a(m.a(0),y.a,g.a(H)),G=function(n,e){var t=Math.ceil(n),r=Math.floor(e);return Math.floor(Math.random()*(r-t+1))+t},I=function(){return{x:G(0,14),y:G(0,14)}},N=function(n,e){return n.x===e.x&&n.y===e.y},R=function(n,e){return k.a(n,e)},F=t(67),P=t(14),U=t(82),C=t(84),M=t(99),S=t(83),B=t(101),z=t(85),J=t(68),$=t(96),q=t(86),K=t(89),Q=t(90);function V(n){for(var e=I();R(e,n);)e=I();return e}var X=function(n){for(var e=[],t=n-1;t>=0;t--)e.push({x:t,y:0});return e}(3),Y=function(n,e){for(var t=[],r=Object(P.a)(e),c=0;c<n;c++){var a=V(r);t.push(a),r.push(a)}return t}(2,X),Z=Object(U.a)(document,"keydown").pipe(Object(S.a)("code")),_={ArrowUp:r.UP,ArrowDown:r.DOWN,ArrowLeft:r.LEFT,ArrowRight:r.RIGHT},nn=new C.a(3),en=nn.pipe(Object(B.a)((function(n,e){return e+n})),Object(z.a)()),tn=Z.pipe(Object(p.a)((function(n){return _[n]})),Object(J.a)((function(n){return!!n})),Object($.a)(r.RIGHT),Object(q.a)()),rn=en.pipe(Object($.a)(0),Object(B.a)((function(n,e){return n+1}))),cn=rn.pipe(Object(B.a)((function(n,e){return 0!==e&&e%n===0?2*n:n}),3),Object(q.a)()).pipe(Object(B.a)((function(n){return n+1}),0)),an=cn.pipe(Object(l.a)((function(n){return Object(O.a)(200-20*n)})),Object(d.a)(tn,(function(n,e){return e})),Object(B.a)((function(n,e){return t=n,r=e,w.a(E,W)([t,r])?n:e;var t,r}))).pipe(Object(d.a)(en,(function(n,e){return{move:n,snakeLength:e}})),Object(B.a)((function(n,e){var t=e.move,r=e.snakeLength,c=Object(s.a)(n),a=c[0],i=c.slice(1),o=a;return[D({direction:t,pos:a})].concat(Object(P.a)(i.map((function(n){var e=Object(F.a)({},o);return o=n,e}))),Object(P.a)(r>n.length?[n[n.length-1]]:[]))}),X),Object(z.a)()),on=an.pipe(Object(B.a)((function(n,e){var t=Object(j.a)(e,1)[0],r=n.find((function(n){return N(n,t)}));if(r){var c=g.a([r],n);return[].concat(Object(P.a)(c),[V([].concat(Object(P.a)(c),Object(P.a)(e)))])}return n}),Y),Object(q.a)(),Object(z.a)());on.pipe(Object(K.a)(1),Object(Q.a)((function(){nn.next(1)}))).subscribe();var un,jn,sn,bn,On,fn,pn=Object(M.a)([an,on,rn,cn]).pipe(Object(p.a)((function(n){var e=Object(j.a)(n,4);return{snake:e[0],apples:e[1],score:e[2],level:e[3]}}))),ln=Object(b.a)("Start Game").pipe(Object(p.a)((function(){return Object(O.a)(1e3/60,f.a)})),Object(l.a)((function(n){return n.pipe(Object(d.a)(pn,(function(n,e){return e})))})),Object(x.a)((function(n){return!dn(n)}))),dn=function(n){var e=n.snake,t=Object(s.a)(e),r=t[0],c=t.slice(1);return function(n){var e=n.x,t=n.y;return e>=15||e<0||t>=15||t<0}(r)||c.some((function(n){return N(n,r)}))},xn=t(7),hn={snake:X,apples:Y,score:0,level:1},vn=Object(c.createContext)(hn),mn=function(n){var e=n.children,t=Object(c.useState)(hn),r=Object(j.a)(t,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var n=ln.subscribe((function(n){i(n)}));return function(){return n.unsubscribe()}}),[i]),Object(xn.jsx)(vn.Provider,{value:a,children:e})},yn=function(){return Object(c.useContext)(vn)},gn=t(23),wn=gn.a.div(un||(un=Object(o.a)(["\n  width: ","px;\n  height: ","px;\n  margin: 1px;\n  border-radius: 2px;\n  background-color: ",";\n"])),20,20,(function(n){return n.isHead?"#69D2E7":n.isActive?"#A7DBD8":n.isApple?"#F38630":"transparent"})),kn=Object(P.a)(Array(15)),An=function(n){var e=n.indexColumn,t=yn(),r=t.snake,c=t.apples;return r?Object(xn.jsx)("div",{children:kn.map((function(n,t){var a={x:e,y:t};return Object(xn.jsx)(wn,{isActive:R(a,r),isApple:R(a,c),isHead:N(a,r[0])},t)}))}):null},Tn=Object(P.a)(Array(15)),Dn=function(){return Object(xn.jsx)(Hn,{tileWidth:20,children:Tn.map((function(n,e){return Object(xn.jsx)(An,{indexColumn:e},e)}))})},Hn=gn.a.div(jn||(jn=Object(o.a)(["\n  display: flex;\n  max-width: ","px;\n  max-height: ","px;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 2px;\n  background-color: #fdfdfd;\n  border: 2px solid #f1f1f1;\n  border-radius: 5px;\n"])),360,360),Ln=function(){var n=yn(),e=n.score,t=n.level;return Object(xn.jsxs)(En,{children:[Object(xn.jsx)(Wn,{children:"Snake"}),Object(xn.jsxs)(Gn,{children:["Score: ",Object(xn.jsx)("strong",{children:e}),Object(xn.jsx)("br",{}),"Level: ",Object(xn.jsx)("strong",{children:t})]}),Object(xn.jsx)(Dn,{})]})},En=gn.a.div(sn||(sn=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  height: 100%;\n"]))),Wn=gn.a.h1(bn||(bn=Object(o.a)(["\n  font-size: 3rem;\n"]))),Gn=gn.a.p(On||(On=Object(o.a)(["\n  font-size: 1.25rem;\n"]))),In=Object(u.b)(fn||(fn=Object(o.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Nunito:300,400,500,600,700&display=swap');\n  body {\n    margin: 0;\n    height: 100%;\n  }\n\n  html {\n    height: 100%;\n    font-family: 'Nunito', 'Helvetica', 'Arial', sans-serif;\n  }\n\n  #root {\n    height: 100%;\n  }\n"]))),Nn=function(){return Object(xn.jsxs)(mn,{children:[Object(xn.jsx)(u.a,{styles:In}),Object(xn.jsx)(Ln,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(xn.jsx)(Nn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.04182ef9.chunk.js.map