(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{80:function(n,e,t){"use strict";t.r(e);var r,c=t(2),a=t(66),i=t.n(a),o=t(18),u=t(40),s=t(43),b=t(46),j=t(91),O=t(97),f=t(98),p=t(33),d=t(87),l=t(88),h=t(92),x=t(29),v=t(94),m=t(69),y=t(100),g=t(95),w=t(93),k=t(81);!function(n){n.RIGHT="RIGHT",n.LEFT="LEFT",n.UP="UP",n.DOWN="DOWN"}(r||(r={}));var T,A=(T={},Object(x.a)(T,r.RIGHT,(function(n){return{x:n.x+1,y:n.y}})),Object(x.a)(T,r.LEFT,(function(n){return{x:n.x-1,y:n.y}})),Object(x.a)(T,r.UP,(function(n){return{x:n.x,y:n.y-1}})),Object(x.a)(T,r.DOWN,(function(n){return{x:n.x,y:n.y+1}})),T),H=function(n){var e=n.direction,t=n.pos;return A[e](t)},D=[r.UP,r.DOWN],E=[r.LEFT,r.RIGHT],G=v.a(m.a(0),y.a,g.a(E)),I=v.a(m.a(0),y.a,g.a(D)),L=function(n,e){var t=Math.ceil(n),r=Math.floor(e);return Math.floor(Math.random()*(r-t+1))+t},R=function(){return{x:L(0,14),y:L(0,14)}},W=function(n,e){return n.x===e.x&&n.y===e.y},N=function(n,e){return k.a(n,e)},F=t(67),P=t(14),U=t(82),C=t(84),M=t(99),S=t(83),B=t(101),z=t(85),J=t(68),$=t(96),q=t(86),K=t(89),Q=t(90);function V(n){for(var e=R();N(e,n);)e=R();return e}var X,Y=function(n){for(var e=[],t=n-1;t>=0;t--)e.push({x:t,y:0});return e}(3),Z=function(n,e){for(var t=[],r=Object(P.a)(e),c=0;c<n;c++){var a=V(r);t.push(a),r.push(a)}return t}(2,Y);!function(n){n.RIGHT="RIGHT",n.LEFT="LEFT",n.UP="UP",n.DOWN="DOWN"}(X||(X={}));var _=Object(U.a)(document,"keydown").pipe(Object(S.a)("code")),nn={ArrowUp:X.UP,ArrowDown:X.DOWN,ArrowLeft:X.LEFT,ArrowRight:X.RIGHT},en=new C.a(3),tn=function(n,e){return t=n,r=e,w.a(G,I)([t,r])?n:e;var t,r},rn=en.pipe(Object(B.a)((function(n,e){return e+n})),Object(z.a)()),cn=_.pipe(Object(p.a)((function(n){return nn[n]})),Object(J.a)((function(n){return!!n})),Object($.a)(X.RIGHT),Object(q.a)()),an=new C.a(200).pipe(Object(d.a)((function(n){return Object(O.a)(n).pipe(Object(l.a)(cn,(function(n,e){return{direction:e}})),Object(B.a)((function(n,e){var t=e.direction;return tn(n,t)}),X.RIGHT))}))).pipe(Object(l.a)(rn,(function(n,e){return{move:n,snakeLength:e}})),Object(B.a)((function(n,e){var t=e.move,r=e.snakeLength,c=Object(b.a)(n),a=c[0],i=c.slice(1),o=a;return[H({direction:t,pos:a})].concat(Object(P.a)(i.map((function(n){var e=Object(F.a)({},o);return o=n,e}))),Object(P.a)(r>n.length?[n[n.length-1]]:[]))}),Y),Object(z.a)()),on=an.pipe(Object(B.a)((function(n,e){var t=Object(s.a)(e,1)[0],r=n.find((function(n){return W(n,t)}));if(r){var c=g.a([r],n);return[].concat(Object(P.a)(c),[V([].concat(Object(P.a)(c),Object(P.a)(e)))])}return n}),Z),Object(q.a)(),Object(z.a)());on.pipe(Object(K.a)(1),Object(Q.a)((function(){return en.next(pn)}))).subscribe();var un,sn,bn,jn,On,fn,pn=1,dn=rn.pipe(Object($.a)(0),Object(B.a)((function(n,e){return n+pn}))),ln=Object(M.a)([an,on,dn]).pipe(Object(p.a)((function(n){var e=Object(s.a)(n,3);return{snake:e[0],apples:e[1],score:e[2]}}))),hn=Object(j.a)("Start Game").pipe(Object(p.a)((function(){return Object(O.a)(1e3/60,f.a)})),Object(d.a)((function(n){return n.pipe(Object(l.a)(ln,(function(n,e){return e})))})),Object(h.a)((function(n){return!xn(n)}))),xn=function(n){var e=n.snake,t=Object(b.a)(e),r=t[0],c=t.slice(1);return function(n){var e=n.x,t=n.y;return e>=15||e<0||t>=15||t<0}(r)||c.some((function(n){return W(n,r)}))},vn=t(9),mn={snake:Y,apples:Z,score:0},yn=Object(c.createContext)(mn),gn=function(n){var e=n.children,t=Object(c.useState)(mn),r=Object(s.a)(t,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var n=hn.subscribe((function(n){i(n)}));return function(){return n.unsubscribe()}}),[i]),Object(vn.jsx)(yn.Provider,{value:a,children:e})},wn=function(){return Object(c.useContext)(yn)},kn=t(23),Tn=kn.a.div(un||(un=Object(o.a)(["\n  width: ","px;\n  height: ","px;\n  margin: 1px;\n  border-radius: 2px;\n  background-color: ",";\n"])),20,20,(function(n){return n.isHead?"#69D2E7":n.isActive?"#A7DBD8":n.isApple?"#F38630":"transparent"})),An=Object(P.a)(Array(15)),Hn=function(n){var e=n.indexColumn,t=wn(),r=t.snake,c=t.apples;return r?Object(vn.jsx)("div",{children:An.map((function(n,t){var a={x:e,y:t};return Object(vn.jsx)(Tn,{isActive:N(a,r),isApple:N(a,c),isHead:W(a,r[0])},t)}))}):null},Dn=Object(P.a)(Array(15)),En=function(){return Object(vn.jsx)(Gn,{tileWidth:20,children:Dn.map((function(n,e){return Object(vn.jsx)(Hn,{indexColumn:e},e)}))})},Gn=kn.a.div(sn||(sn=Object(o.a)(["\n  display: flex;\n  max-width: ","px;\n  max-height: ","px;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 2px;\n  background-color: #fdfdfd;\n  border: 2px solid #f1f1f1;\n  border-radius: 5px;\n"])),360,360),In=function(){var n=wn().score;return Object(vn.jsxs)(Ln,{children:[Object(vn.jsx)(Rn,{children:"Snake"}),Object(vn.jsxs)(Wn,{children:["Score: ",Object(vn.jsx)("strong",{children:n})]}),Object(vn.jsx)(En,{})]})},Ln=kn.a.div(bn||(bn=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  height: 100%;\n"]))),Rn=kn.a.h1(jn||(jn=Object(o.a)(["\n  font-size: 3rem;\n"]))),Wn=kn.a.p(On||(On=Object(o.a)(["\n  font-size: 1.25rem;\n"]))),Nn=Object(u.b)(fn||(fn=Object(o.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Nunito:300,400,500,600,700&display=swap');\n  body {\n    margin: 0;\n    height: 100%;\n  }\n\n  html {\n    height: 100%;\n    font-family: 'Nunito', 'Helvetica', 'Arial', sans-serif;\n  }\n\n  #root {\n    height: 100%;\n  }\n"]))),Fn=function(){return Object(vn.jsxs)(gn,{children:[Object(vn.jsx)(u.a,{styles:Nn}),Object(vn.jsx)(In,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(vn.jsx)(Fn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.ecda4bdb.chunk.js.map